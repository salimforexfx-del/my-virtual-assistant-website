<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Salim-VA | Virtual Assistant & Graphic Designer</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- HEADER -->
  <header>
    <h1>Salim-VA</h1>
    <p>Professional Virtual Assistant & Graphic Designer</p>
    <nav>
      <a href="#services">Services</a>
      <a href="#about">About</a>
      <a href="#testimonials">Testimonials</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <!-- SERVICES -->
  <section id="services">
    <h2>Services</h2>
    <!-- Your services content remains unchanged -->
  </section>

  <!-- ABOUT -->
  <section id="about">
    <h2>About Me</h2>
    <p>Iâ€™m Salim M. Omar, a dedicated Virtual Assistant and Graphic Designer. I help businesses and entrepreneurs save time and grow by handling their daily tasks and delivering creative solutions.</p>
  </section>

  <!-- TESTIMONIALS -->
  <section id="testimonials">
    <h2>Testimonials</h2>
    <!-- Your testimonials remain unchanged -->
  </section>

  <!-- CONTACT + PAYMENT -->
  <section id="contact">
    <h2>Contact Me</h2>
    <!-- Netlify contact form -->
    <form name="contact" method="POST" data-netlify="true">
      <input type="hidden" name="form-name" value="contact">
      <label>Your Name: <input type="text" name="name" required></label>
      <label>Your Email: <input type="email" name="email" required></label>
      <label>Message: <textarea name="message" required></textarea></label>
      <button type="submit">Send</button>
    </form>

    <hr />

    <!-- Payment Section -->
    <h2>Book & Pay</h2>
    <form id="serviceForm">
      <label for="email">Your Email:</label>
      <input type="email" id="email" placeholder="Enter your email" required />

      <label for="service">Choose Service:</label>
      <select id="service" required>
        <option value="">--Select--</option>
        <option value="admin">Administrative Support (KES 2500/hr)</option>
        <option value="design">Graphic Design (KES 4500/hr)</option>
        <option value="content">Content Creation (KES 3500/hr)</option>
        <option value="social">Social Media Management (KES 4000/hr)</option>
        <option value="ecommerce">E-commerce Support (KES 3000/hr)</option>
        <option value="video">Video Editing (KES 5000/hr)</option>
      </select>

      <label for="hours">Hours:</label>
      <input type="number" id="hours" min="1" value="1" required />

      <div>
        <label><input type="radio" name="paymentMethod" value="paypal"> PayPal</label>
        <label><input type="radio" name="paymentMethod" value="card"> Credit/Debit Card</label>
      </div>

      <button type="button" id="completePayment">Complete Payment</button>
    </form>
  </section>

  <footer>
    <p>&copy; 2025 Salim-VA. All rights reserved.</p>
  </footer>

  <!-- Paystack Script -->
  <script src="https://js.paystack.co/v1/inline.js"></script>
  <script>
    function getSelectedService() {
      return document.getElementById('service').value;
    }
    function getHours() {
      return parseInt(document.getElementById('hours').value || 1);
    }
    function getTotalAmount() {
      const prices = { admin: 2500, design: 4500, content: 3500, social: 4000, ecommerce: 3000, video: 5000 };
      const service = getSelectedService();
      return (prices[service] || 0) * getHours();
    }
    function getDescription() {
      const names = {
        admin: "Administrative Support",
        design: "Graphic Design",
        content: "Content Creation",
        social: "Social Media Management",
        ecommerce: "E-commerce Support",
        video: "Video Editing"
      };
      const service = getSelectedService();
      return `${names[service] || "Service"} - ${getHours()} hour(s)`;
    }

    document.getElementById("completePayment").addEventListener("click", function() {
      const email = document.getElementById("email").value;
      const method = document.querySelector("input[name='paymentMethod']:checked");
      const amount = getTotalAmount();

      if (!email) { alert("Please enter your email."); return; }
      if (!method) { alert("Please select a payment method."); return; }
      if (amount <= 0) { alert("Please select a service and hours."); return; }

      if (method.value === "paypal") {
        alert("PayPal integration to be added later.");
      } else if (method.value === "card") {
        let handler = PaystackPop.setup({
          key: 'pk_live_4842a6f67cbfb6c50efc62c39d25c65c18c09577',
          email: email,
          amount: amount * 100, // kobo equivalent for KES
          currency: 'KES',
          ref: 'tx_' + Date.now(),
          metadata: {
            custom_fields: [
              {
                display_name: "Service",
                variable_name: "service",
                value: getDescription()
              }
            ]
          },
          callback: function(response) {
            window.location.href = "/thank-you.html?ref=" + response.reference + "&amount=" + amount + "&service=" + getDescription() + "&email=" + email;
          },
          onClose: function() {
            window.location.href = "/payment-failed.html";
          }
        });
        handler.openIframe();
      }
    });
  </script>
</body>
</html>
